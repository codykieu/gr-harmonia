id: harmonia_compensation
label: Waveform Compensation
category: '[harmonia]'

parameters:
  # Waveform parameters
  - id: center_freq
    label: Center Frequency
    dtype: float
    default: "center_freq"
  - id: samp_rate
    label: Sample rate
    dtype: float
    default: "samp_rate"
  - id: sdr_id
    label: SDR Number
    dtype: int
    default: 1

inputs:
  - domain: message
    id: in
    optional: true
  - domain: message
    id: cd_in
    optional: true 
  - domain: message
    id: cb_in
    optional: true
  - domain: message
    id: cp_in
    optional: true
outputs:
  - domain: message
    id: out
    optional: false

templates:
  imports: from gnuradio import harmonia
  make: |-
    harmonia.compensation(${center_freq}, ${samp_rate}, ${sdr_id})

#  'file_format' specifies the version of the GRC yml format used in the file
#  and should usually not be changed.
file_format: 1
